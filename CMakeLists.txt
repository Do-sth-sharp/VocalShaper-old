cmake_minimum_required (VERSION 3.8)

project (VocalShaper VERSION 0.0.1 LANGUAGES CXX C)

set(CMAKE_CXX_STANDARD 20)#使用C++20
set(CMAKE_CXX_EXTENSIONS OFF)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_C_STANDARD 17)#使用C17
set(CMAKE_C_EXTENSIONS OFF)
set(CMAKE_C_STANDARD_REQUIRED ON)

set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>DLL")#MSVC下使用/MD和/MDd

#设置项目常用文件夹
set (OUT_DIR ${CMAKE_SOURCE_DIR}/Out)
set (JMADF_DIR ${CMAKE_SOURCE_DIR}/JMADF)
set (LIBJMODULE_DIR ${CMAKE_SOURCE_DIR}/JMADF/libJModule)
set (JUCEHEADER_DIR ${CMAKE_SOURCE_DIR}/JuceLibraryCode)
IF (CMAKE_SYSTEM_NAME MATCHES "Linux")
	set (JUCELIBRARY_DIR ${CMAKE_SOURCE_DIR}/JUCE_Windows)
ELSEIF (CMAKE_SYSTEM_NAME MATCHES "Windows")
	set (JUCELIBRARY_DIR ${CMAKE_SOURCE_DIR}/JUCE_Windows)
ELSEIF (CMAKE_SYSTEM_NAME MATCHES "Darwin")
	set (JUCELIBRARY_DIR ${CMAKE_SOURCE_DIR}/JUCE_Windows)
ELSE ()
	set (JUCELIBRARY_DIR ${CMAKE_SOURCE_DIR}/JUCE_Windows)
ENDIF (CMAKE_SYSTEM_NAME MATCHES "Linux") 

#编译目标
add_subdirectory (JMADF)
add_subdirectory (Modules)
add_subdirectory (VocalShaper)
add_subdirectory (JUCE_Library)
